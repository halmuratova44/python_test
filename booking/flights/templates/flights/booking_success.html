<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Confirmation</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="{% static 'css/base.css' %}">
    <style>
        #paymentFields {
            display: none;
            margin-top: 20px;
        }
    </style>

    <script>
        function togglePaymentFields() {
            var paymentFields = document.getElementById("paymentFields");
            if (paymentFields.style.display === "none") {
                paymentFields.style.display = "block";
            } else {
                paymentFields.style.display = "none";
            }
        }
    </script>
</head>
<body>
    <h1>Booking Confirmation</h1>

    <p>Your booking has been successfully confirmed!</p>

    <h2>Flight Details</h2>
    <p><strong>Flight Number:</strong> {{ flight.flight_number }}</p>
    <p><strong>Departure City:</strong> {{ flight.departure_city }}</p>
    <p><strong>Arrival City:</strong> {{ flight.arrival_city }}</p>
    <p><strong>Departure Time:</strong> {{ flight.departure_time }}</p>
    <p><strong>Arrival Time:</strong> {{ flight.arrival_time }}</p>
    <p><strong>Airline:</strong> {{ flight.airline }}</p>
    <p><strong>Price:</strong> ${{ flight.price }}</p>
    <p><strong>Seats Available:</strong> {{ flight.seats_available }}</p>

    <!-- Кнопка для перехода на главную страницу -->
    <a href="{% url 'home' %}">
        <button>Go to Homepage</button>
    </a>

    <h2>Enter Your Details</h2>
    <hr>

    <!-- Кнопка для отображения полей оплаты -->
    <button type="button" onclick="togglePaymentFields()">Proceed to Payment</button>

    <!-- Скрытые поля для оплаты -->
    <div id="paymentFields">
        <h3>Payment Details</h3>
        <!-- Форма для оплаты с кнопкой отправки -->
        <form method="POST" action="{% url 'booking_confirmation' flight.id %}">
            {% csrf_token %}

            {{ form.as_p }}

            <!-- Номер карты -->
            <label for="card_number">Card Number:</label>
            <input type="text" id="card_number" name="card_number" required placeholder="1234 5678 9876 5432"><br>

            <!-- Срок действия карты -->
            <label for="expiry_date">Expiry Date:</label>
            <input type="month" id="expiry_date" name="expiry_date" required><br>

            <!-- Имя владельца карты -->
            <label for="card_holder">Card Holder's Name:</label>
            <input type="text" id="card_holder" name="card_holder" required placeholder="John Doe"><br>

            <!-- CVC/CVV -->
            <label for="cvv">CVC/CVV:</label>
            <input type="text" id="cvv" name="cvv" required placeholder="123"><br>

            <!-- Кнопка для отправки формы оплаты -->
            <button type="submit">Submit Payment</button>
        </form>
    </div>
</body>
</html>
